todo legend:
'-' means: not yet processed, is still to do
'+' means: processed
'X' means: has been checked and deleted
'~' means: partially processed

-------------------------------------------------------------
Testing
-------------------------------------------------------------

last test verifications:
						pgf	CVS		pgf	2.00	pgf 2.00+compat=default
pgfplotstests			for 1.4		for 1.4		2009-12-30					
manual					for 1.4		for 1.4			
pgfplotstable.pdf		for 1.4		for 1.4
example	latex			for 1.4		2009-12-30					
example	context			for 1.4		2009-12-30				
example	plain tex		for 1.4		2009-12-30				
tests context			for 1.4	

I NEED MORE TESTS!
The test suite needs to be developed!

- test patch plots + jump features
- test hist/cumulative
- test quiver + log
- test hist + log
- test contour + log
- test 'colormap access=direct'
- test log sampling in 3D
- test of compat keys
	-> can they be used as arguments for an axis?

---------------
UNSTABLE
---------------
list of features which have "pending" state:
- contours: 97% ready.
  	- add "labels=if less than X"
- polar axes: 90% ready
  	- undocumented
	- missing feature: input of cartesian coords
- ternary: 95% ready
  	- but there are still quite a lot of feature request concerning them
- smith charts: 0% ready, but implementation should be simple with what I have
  now
- patch plots: 100% ready for linear patches
  	90% for high order ones
- internal coordmath framework: 100% ready, but not used everywhere and
  undocumented
- check 'empty lines' feature -> should have compat mode
- new public axis API is 90% complete:
  	- documentation is missing
  	- log scaling is difficult, still


---------------
pgfplots 1.4 todo:
---------------
- yticklabel pos  is ignored for axis line variations. Thats unexpected.
- fix the \ref thing for legends/colorbar. It introduces a further stroke color
  somehow.
- check if the \ref thing for legends can suppress the hyperref link color.
+ incorporate the bugfix for 'point meta=f(x)'
+ should fix the "\numplots per plot handler" feature, i.e. should allow bar
  plots / line plots in the same axis with 'ybar'.
+ document new regression feature in pgfplots.pdf (is currently in
  pgfplotstable.pdf)
+ document new table input in pgfplots.pdf
- fix bugs
- update docs for external lib




---------------
pgfplots 1.4 todo:
---------------
+ improve docs on alignment things
+ document how to make multi-line legends
+ document how to add custom things into a legend (add examples)
+ fix the \ref thing for legends/colorbar. It introduces a further stroke color
  somehow.
+ check if the \ref thing for legends can suppress the hyperref link color.
+ incorporate the bugfix for 'point meta=f(x)'
+ should fix the "\numplots per plot handler" feature, i.e. should allow bar
  plots / line plots in the same axis with 'ybar'.
+ document new regression feature in pgfplots.pdf (is currently in
  pgfplotstable.pdf)
+ document new table input in pgfplots.pdf
+ fix bugs
+ update docs for external lib


---------------
pgfplots 1.3.1:
---------------
+ tests (see above)
+ spell checker
+ the ChangeLog is a mess. The automerger failed.
  I will need to restore it manually... it mixed stable and master versions.
+ critical: external lib and its backw. compat layer
  perhaps I should disable them completely for the stable version?
  There are no branches, either fully CVS or not at all.
+ import docs for recent number printing styles
+ set version number
+ set release dates for pgfplots.sty and pgfplotstable.sty
+ update ChangeLog to reflect the release and tag git
- update ubuntu PPA 
x upload sourceforge images
+ release makefile
+ CTAN: communicate sourceforge link
+ make short, summarized changelog:
	- improved parametric plots with gnuplot
	- improved normalsize, small and footnotesize scale styles and added tiny
	- fixed a lot of bugs


-------------------------------------------------------------
USER INTERFACE DECISIONS
-------------------------------------------------------------

- the axis line combination styles can't be adjusted for 3D because they are
  evaluated too early.

-------------------------------------------------------------
MISC
-------------------------------------------------------------

+ disable pgfplots CVS?

- documentation todo:
	- release notes:
	  	mention improvements of 'shader=interp'
	+ new patch plot interfaces:
		+ how to draw the grid (and caveats)
		+ example bilinear grid from chernov
	  	+ patch type
		+ patch refines
		+ patch to triangles
		+ faceted and higher order elements: document that it might be better to
		  shade them with const color!
		+ document patch plots only for 3D; provide a central reference section.
		  The 2D Patch Plot section should simply be a link
		+ provide extra Section "Automatic Patch Refinement and Triangulation"
	- new 'output cs' feature (when it is finished)
	+ There is a typo on section 4.5.12: "As for for dimensional patch plots "
	- quiver: the tests have a further pretty example where quiver is on top of
	  a surf, attached to z =2 or so.
	+ document 'shader=faceted interp'
	- document 'mesh/type'
	+ document the 'plot graphics/points' feature.
	- try a bar plot with individually shaded bars
	+ document 'contour prepared', 'contour external' and 'contour gnuplot'.
	- contour external: Do not forget the \", \' etc special handling .
	- contour: document 'labels over line' style
	- contour: a change label dist
	- contour: document the special handling of "point meta".
	+ clickable: 
	  	document 'popup size' and its variants
		document `clickable coords size'
		document 'richtext' and the formatting things
		document \n and friends
	+ document ternary lib
	  	+ do not forget 'cartesian cs' and its applications
	- document frac whole format
	- document /pgfplots/empty line
	- document 'clickable coords' and 'clickable coords code' features
	- document 'execute at begin axis' and its new variants
	> There's a tiny typo in pgfplots manual:
	>     \addplot table[x index=0,y index=0,header=false]
	> on page 18. The second index should be 1, not 1.
	- document how to plot against the coordindex
	- document the new 'getcolumnbyname={create col/....}' feature
	+ document linear regression 
	- document how to identify the source of "dimension too large" errors:
	  tracingstuff.
	- document how to fix dimension too large problems: restrict to domain for
	  example
	- colorbar styles are not consistent between docs and code
	- It seems as if the AMS command $\text{\ref{ref:to:a:plot}}$ instantiates the
	  \ref at least four times. Document somehow that it is better to use '\hbox'
	  instead
	- pgfplotstable: show how to use '\begin{longtable}'

- clickable lib:
	I have the impression that acroread fires warnings only for the manual - not always when the clickable lib is used. Why!?

-------------------------------------------------------------
PGF / TikZ Development: 
-------------------------------------------------------------
	- external bug:
\documentclass[
    pagesize=auto,                  % 1
        ]{scrbook}
\usepackage{tikz}
    \usetikzlibrary{external}
        \tikzexternalize
\begin{document}
        \KOMAoption{twoside}{semi}  % 2
            test

    \tikz \draw (0,0) circle (3pt);
\end{document}
	- consider a matrix style which applies only to the outer matrix node style
	  (see feature request
	  https://sourceforge.net/tracker/?func=detail&atid=1060657&aid=3019259&group_id=224188
	  )
	- make assignments to \pgf@x and \pgf@y always \global
	- implement \pgfmathfloattocount
	- external lib: think whether it is possible to provide the real jobname
	  without explicit user input. Idea: transport it as TeX code argument to pdflatex
	- provide '\times' or more general formatting rules to number printer
	- code 2 args doesn't work correctly with spaces between the arguments!?
	+ provide '\times' or more general formatting rules to number printer
	+ external lib: implement \tikzpicturedependsonfile#1
	+ in pgfplots: invoke \tikzpicturedependsonfile. 
	  perhaps the plot-from-table-struct should also use it.
	+ external lib: 'list and make' does not work together with \include (aux files!) or other file writing things -- at least not if one tries to do that in parallel.
	+ consider the "plot function" patch from Andy Schlaikjer
	+ it seems fadings don't work correctly with externalization!? 
	- include addition of Christophe Jorssen for MD5 checksums in external lib
	+ write new sub-package 'pgfmanual.sty' which contains a good user interface to the manual styles, environments and all that.
	+ external lib: catcode changes inside of pictures do not work properly.
	- the fpu can't be used inside of paths. That should be fixed.
		-> the problem is that paths may use \pgfmath... routines directly.
		-> this should work! At least with the public math macros \pgfmathadd.
		The \pgfmathadd@ might be implemented differently.
  	+ in the manual, the first two arguments of
	  pgfqkeysactivatesinglefamilyandfilteroptions were inverted.
	+ some predefined filters do not process unknown options correctly
	+ external lib in pgf: think whether 'empty image extension' is a bug or a
	  feature.
		-> feature of \pgfimage! Otherwise it wouldn't be possible to provide an extension!
		-> bug for external lib which never uses extensions!
	- fix landscape bug (pdflscape) in external lib (PGF)
	+ the pgf math parser has wrong precedence for '-' prefix op:
		exp(-x^2) is wrong.
  	- pack the default 'system call' for dvips etc into drivers!
	- active '|' characters result in compilation bugs (\usepackage{program})
	- 'text height=1em' realisieren mit [node font units]1em 

- compatiblity code todo:
  	- the example for plot graphics (with view=0{90}) doesn't work.
	-> that's the 'exp(0-x^2)' bug which is still in pgf 2.00!

-------------------------------------------------------------
BUGS / FIXES
-------------------------------------------------------------
- external lib + dvi/ps + windows: it seems the ';' doesn't work; use '&' to
  separate commands

- check y tick scale label for 2nd y axis

- \foreach variants in pgfplots accept only one parameter
%            \foreach \x/\y in {1/a, 2/b, 3/c}
%                {\node at (axis cs:0,\x) {\y};}%   % doesn't work
%            \pgfplotsforeachungrouped \x/\y in {1/a, 2/b, 3/c}
%                {\node at (axis cs:0,\x) {\y};}%   % doesn't work




- groupplots + extra braces or \foreach are incompatible.

- the 'xtick' syntax accepts only numbers, not even constant expressions are
  possible (and 'pi' is even more complicated).

- document INS 671 does not compile with pgfplots 1.4 and pgf 2.00

- numplotspertype & forget plot & ybar interval yields errors.

- expression plotting and empty 'y' results in errors. Perhaps it would be
  better to handle that explicitly somehow?
  (occurs for hist when one input line is empty)

- view normal vector does not correctly respect plot box ratio and x dir

- plot box ratio  has a strange input format (compare with unit vector ratio).

- clickable and Windows Acrobat Reader 9 has been reported to fail

- /pgfplots/samples at and /tikz/samples at work on the same axe. Tantau says that this key support \foreach statement and thus the dotes notation. Howerver, when I want to use two or more different dots notation within pgfplots, latex crashes !
Here is an example which clarify this issue :
\addplot+[mark=none,variable={\t}, samples at = {\foreach \x in {0,10,...,180,200,...340} {\x, }360}] ({sin(t*2)}, {cos(t)}); 

- potential incompatibility: clickable and external. The clickable lib writes
  into pgfplots.djs which might cause multithreaded problems.

- groupplots: mixing 2d/3d in one groupplot doesn't reset 'zmin,zmax' ?
 

- 'clip=false' does not disable marker clipping!


- multiple ordinates: grid lines are drawn on top of function plots; that's bad.
Check: 
 I think you have to change the process line previousely invoked, and make the axes generation at the end :
1. generating adequate grid --> 2. plotting functions --> 3. creating axes, tick nodes...
You can take a minute look at figure 1 @ "The \addplot Command: Coordinate Input" section 4.2 p 19.
and you can remark that colour filling overlaps x- and y-axis ! So I suggest that you use "excute at end picture=<axis generation code>" tikz option or similar to avoid this issue.

- 3D axes: it is difficult to get an 1:1 correspondence to tikz.

- 3D axes: providing three unit vectors is not sufficient, one also needs to set
  'view={}{}'. That should be done automatically.
  
- 3D axes: Providing three unit vectors manually yields incorrect axis
  initialisation.

- 3D axis: provide support for manual axis configuration, 
  	- depth (n vector),
	- foreground/background,
	- tick label axes,
	- ...

- Patch plots: directly transform cdata. Should simplify interpolation during
  refine/triangulation etc. and shouldn't make a difference otherwise.

manual errors of given pgfplots_unstable version:
 94	2.5.12	\addplot+[patch] --> \addplot3+[patch]
162 			"xmode, ymode, zmode" and "x dir, ..." 
			come again on page 177

- don't loose \ref's when externalizing
  I'll provide a minimal later


- incompatibility pdfpages (most recent version), MikTeX and tikz external lib
  (something with shipout routine)

- plot graphics: \ref legend doesn't work properly

- french babel and colorbars are not fully compatible. The problem is that
  colorbars use '\addplot graphics {};' with a fixed catcode for the ';' --
  which might lead to problems.

- markers should not be drawn on top of everything else. Always restore the
  clipping region for each plot.
 

- mesh/patch plots:
  	- jump thing + z buffer=sort probably doesn't work

- ternary axes: the 'marker clipping' doesn't work (naturally)

- polar axes: 
	+ is wrong since 'near ticklabel' anchor uses pointunitx which is not correctly initialised for polar axes.
	- axis equal
	+ data scaling needs to be disabled for X axis.
	+ auto tick labels work only for the case of disabledatascaling

- contour:
  	the table/meta=2  default is wrong.

- OK    : 'every node near coord/.append style={scale=0.7}'
  NOT OK: 'every node near coord/.append style={scale=0.7},ybar'
  --> sequence of shift and scale matters ...



- dimension too large sanity checking: TeX uses the maximum value instead.
  Perhaps that can be checked?

- view={0}{90}  and enlargelimits=auto is not always satisfactory: it disables enlarged
  limits, but for contours, I'd like to have it.
  What is to do?

- provide remark at end document "Package pgfplots: consider using the preamble
  command \pgfplotsset{compat=1.3} to improve label placement"

- there are a lot of .code 2 args styles which do not support spaces between
  their arguments. Fix this.

- contour external should allow different variations how to deal with
  end-of-scanline markers. gnuplot requires empty lines; matlab doesn't deal
  with them as far as I know.
+ colormap serialization has N^2 runtime.

- contour external doesn't handle explicitly provided matrix data (mesh/rows and
  mesh/cols) yet.

- contour external doesn't handle the ordering flag correctly.

- the quiver/scale arrows   thing might need an "auto" option. If I don't add it
  now, it'll probably never work in the future.

- `1.23456e4;'  in a log plot resulted in hard-to-read error messages. Improve
  sanity checking here.

- the title style for 'footnotesize' is not as I want it to: it doesn't respect
  the depth below the baseline. Or does it need a \strut?

- avoid dimension too large errors which occur due to a data range restrictions.
  Example:
  data range = 0:6000
  view range = 0:1
  -> results in error.
  But that's easy to detect! Just compute the point coordinate in float (after
  the scaling is complete). Then, install a filter somewhere. perhaps an "a
  posteriori" filter in the pointxyz command?


- the autodetection of the '\\' list format is buggy: it should return true if
  and only if the last element is '\\', not if '\\' occurs inside of the
  argument.


- yticklabels={<list>}, extra y ticks={...}  is incompatible since the extra
  ticks share the same tick typesetting routine (which, in turn, queries the
  <list>). 

- '\addplot[only marks]' does not assign a plot mark; one needs 'mark=*'
  explicitly. that's confusing...

- The 'text depth' in legend entries is incompatible with 'text width'.
  The problem: text width is realized using \begin{minipage}[t]
  so its contents is all in the depth. Setting text depths overrides the
  height!

- the '/pgfplots/table/.search also' is overwritten during \addplot table with
  /.search also={/pgfplots}. That's not so good.

- one can't provide 'disable log filter' to \addplot (but it might be
  interesting)

- FPU: atan doesn't check for unbounded inputs.

- unbounded inputs: improve warning messages: they should not contain low level
  FPU args.

- the user interface to set 'tickwidth=0' for a SINGLE axis is not very good: it seems one needs 'xtick style={/pgfplots/tickwidth=0}' to do so...
	-> can be solved if tickwidth has a family, I guess. Something like 'draw' which will not be pulled by pgfplots. But then remains a problem of key paths.
	

- the FPU has somewhere spaces; at least it treats them differently from \pgfmathparse.

- I have seen that 'plot table' with very large files can produce pool size problems -- even if the coordinates are all filtered away.
	In other words: the code can't simply read a file and throw its contents away.
	The problem appears to be some math parsing using the table/x expr and friends.
	'pool size = names of control sequences and file name'
	-> the math parser could be improved with \ifcsname

- axis lines and 3D: some tick lines are not drawn, see manual examples

- check for placement of tick scale label for compat=newest
	-> I improved them for 2d and 3d
	-> needs some further checks, I guess
	

- providing zmin/xmax to an axis activates 3D mode, ok -- but lower dimensional input routines appear to fail.

- one can't provide 'scale' as argument to a (3d) axis

- \getthisrow still has to be fixed
- it may still happen that log-axes get only *one* tick label (in my case 10^{-0.2}). That should never happen.
	The range is about ymin=4.7e-1, ymax=9.5e-1
- log samples in plot expression for 3D plots
- different log bases and gnuplot
+ 3D gnuplot: z buffer fails (see tests)

- I tried placing a named coordinate inside one axis and using it in
	another. It failed.
	% CF: The axis is drawn inside of its own picture which will only be shifted if everything has been drawn. That will be the origin of this problem I guess

	Miraculously I can use the coordinate outside axis env. So I have
	reached the following solution:

- the compatibility things should be enabled automatically for some parts:
	- 3D
	- color bars
	- reversed axes

- plot coordinates doesn't check too well if 
	1. \addplot3 is used but only two coords are given
	2. \addplot is given but three coordinates are provided (also for plot expression)

+ gnuplot: set terminal table seems to be deprecated.
- gnuplot and 3D
	-> I need a shared interface to prepare the required keys for expression plotting

- the compat things are not yet complete: I wanted to check when it is really necessary (for example if 'x dir' is used)

- the nodes near coords feature produces unexpected results when used together
  with markers -> this is due to the default configuration of scatter plots.


- check whether /pgfplots/ keys are processed properly in legends. This is
  certainly not the case for the \label/\ref legend!
  -> which ones are the problem?
- the ybar style won't be set inside of \label{}


- axis equal for semilog plots is not correct (?)



- backwards compatibility problem:
  	axis descriptions can't contain /pgfplots/ styles any longer! This is a key
	path issue :-(


- BUG: in empty axes, 'xtick=\empty' is ignored.

- finish impl of ticklabel pos.
  I should use the same thing for tickpos as well.
  And: the default arg processing which uses ticklabel pos = tickpos needs to be
  fixed.
  the 2D axes are wrong.


- The automatic tick labeling sometimes produces inconsistent or confusing
  labels:
  	1. engineering and fixed number style are mixed up. 
	2. If range of an axis is so small that the labels differ only on the third
	   decimal, still only two decimals are used. 


- 3D: axis equal implementation might not be correct (at least not for view
  special cases)

- 3D:
  	error bars and 
	stacked plots
	need to be updated.

- the \thisrow commands in the table package does not (always) respect aliases!

- interp shader is displayed transparently in evince

- 3D:  the use of \addplot3 and \addplot is not sanitized properly
	Possibilities:
	-  used \addplot  when \addplot3 should have been used
	-  used \addplot3 where \addplot should have been used.
	 What can happen here!? Shouldn't this work in every case?
 
- The "xtick" value is not applied unless there is a coordinate in the x range:
	-> that's the handling of empty figures...

	not working:

	  \begin{axis}[xtick=0]
	  \end{axis}

	not working:

	  \begin{axis}[xmin=-5,xmax=5,xtick=0]
	  \end{axis}

	not working:

	  \begin{axis}[xmin=-5,xmax=5,xtick=0]
		\addplot coordinates { (-10, 0) };
	  \end{axis}


	working:

	  \begin{axis}[xmin=-5,xmax=5,xtick=0]
		\addplot coordinates { (0, 0) };
	  \end{axis}

- think about basic level commands for the axis lines -- this should also allow
  \pgfpathclose !


- the arguments to plot file[#1] and plot table[#1] are not consistent with
  rest. They need to be treated as behavior options (maybe in a different key
  path).
- check behavior options provided to table[] and file[] and so - is that
  correct?


- verify that 'draw=none' works! Is something broken here?
	-> write tests!
	+ it appears to be desired that (at least some) markers invoke
	  \pgfusepathqfillstroke
	  -> they always 'draw', regardless of tikz color settings.
	  -> ok, I patched that in my marker code... (hackery :-( )
	- no, it works only partially:
	  	draw=none or fill=none works as expected.
		But 'blue' disables filling!?
	- Possible fix:
	  	Overwrite \filltrue \fillfalse, \drawtrue, \drawfalse:
			they should set a further boolean '\drawbooleanhasbeenset' and
			'\fillbooleanhasbeenset'.
		-> Replace the \pgfusepathqfillstroke if and only if the respective
		booleans have been set *explicitly*. If they are unchanged, fall back to
		a "reasonable" default.
	  

- In 3D case axis [xyz] line != box, there is just ONE hyperplane.
  My implementation works only if either ALL are box or ALL are 'middle'.

- 3D case : grid lines work correctly, but they are not satisfactory.
  I'd like grid lines in the background only.

- 3D case : tick/grid lines are on top of the axis lines. This leads to 
  poor quality.



+ the clickable library does *not* work inside of figure environments
	-> yes. That's fixed; was a bug in hyperref.
	- I could try to re-implement it without insdljs. 
	  	Ideas: 
		- the document catalog's names dictionary needs to '/JavaScript
		[(<arbitrary script name>) <dictionary with JS>]' entry.
		The <dictionary with JS> contains document level javascript.
		- it is very simple to generate these entries for my case.
		  Unfortunately, this may be incompatible with 'insdljs' or other tools
		  which write DLJS.
		- I am not sure why the floating figures of TeX produce an
		  incompatibility here. It appears the 'hidden' flag in the form fields
		  are the problem - if that is the case, I'd need to reimplement the
		  form annotations (which could be more difficult).

- javascript stuff does not work if the complete figure is rotated (sidewaysfigure).

- javascript: incompatiblity with external library:
  	1. filenames: \jobname contains characters with incompatible catcodes and
		that funny insdljs package tries to assemble macros with these
		characters.
		-> fixed; I simply use pgfplotsJS as temporary file name.
	2. the images as such have corrupted forms
	  -> Can be fixed if 
		\usepackage{eforms} 
		is used BEFORE loading pgf. The reason: \begin{Form} and the shipout-hackery
		of the pgf externalization bite each other. 
		\begin{Form} must come before the shipout hackery of pgf.
	3. \includegraphics does not preserve PDF forms.



- the interrupt bounding box feature should still update the data bounding box.
  Otherwise, transformations may fail.

- extra ticks can be disabled by the tick special cases for axis lines (when two
  axis lines cross each other)

-------------------------------------------------------------
FEATURES
-------------------------------------------------------------

- implement properly layered graphics --- especially for grid lines
  should probably also respect multiple ordinates

- linear regression which passes (0,0)  (see mail of Stefan Pinnow)

- plot graphics 3D: handle the case when the first two points share the same x
  (or y) coordinate

- hist does not allow modifications to the data range

- see the interesting things at 
  	http://peltiertech.com/Excel/Charts/axes.html#Broken
	- broken (y) axis: remove interval [a,b]
	  idea: 
	  if y<a   : visualize as usual
	  if a<y<b : use coordinate y=a
	  if b<y   : use coordinate y=y-(b-a)
	  axis: 
	  - compute two sets of axis descriptions. Perhaps one can try to
	  compute the step size just once, and discard only [a,b] afterwards?
	  This would require to use a canvas axis length corresponding to the
	  unremoved axis range.
	  BTW: I need access to the unremoved axis range; both for tick computation
	  and for 'nodes near coords' or the clickable lib.
	  - draw a decoration at the break.
	  - perhaps also a decoration near affected coords.
	  - perhaps I should apply the thing during the visualization phase, not
		before. Then, I have all limits and the correct coordinates; only canvas
		coords are affected.


- plot graphics for 3D axes.
  Ideas:
  a) provide plot box ratio and view. Ok, I guess that should be enough to
  restore the axis as such (I hope so).
  b) provide the min and max coordinates as before, but now, they can refer to
  *any* point in the imported graphics. Provide the internal graphics canvas
  coordinates which correspond to min and max (measured against the lower left
  corner of the graphics). Perhaps one can provide the "anchor" point against
  which one measures?
  c) compute the x/yshift and width/height such that the min/max nodes match
  between pgfplots axis and picture.
  This requires the natural width/height of the graphics, perhaps respecting any
  'trim' arguments.

- feature to replicate axis descriptions on both sides

- polar axes: polar bar plots (see sourceforge feature request and 
  http://matplotlib.sourceforge.net/examples/pylab_examples/polar_bar.html )

- couldn't you add something like
	\providecommand*\pgfplotsset[1]{}
  to the "tikzexternal.sty" so one doesn't have to do it by hand when 
  switching from tikz/pgfplots?
- discontinuity in the middle of a plot
  (as an example see the phase diagram of water
  http://pruffle.mit.edu/3.00/Lecture_29_web/img20.gif)
- ternary diagram for extractions (more details will come)
- filled area between 2 \addplot's (already requested in mailing list)
- make work \matrix in \matrix so one can use groupplots or 
  "Allignment in Array Form" (section 4.18.4) with legends

- nested axes would be a nice feature.
	TODO:
		- update the list of global state variables
		- "interrupt" these variables somehow.
		- make sure local redefinitions of TikZ commands (like point commands)
		  work; the \let...@orig=  assignments should be handled somehow. 
		- What about keys? They will be inherited from the outer axis...
		  perhaps the best would be an 
		  \endgroup 
		  <nested axis> 
		  \begingroup
		  <restore state>
		  which includes the keys of the outer axis!?

- support for "spy"glass into particular parts of an axis

- groupplots: group-wide axis labels

- It would be really great to have the possibility to attach a style to every nth row of a data table. For example, I would like to have a \midrule not after every line or after odd/even lines but after every fifth (or whatever) line.


-[low prio] log plots: minor tick num would be useful here! If tick labels are placed at
  '1e-5, 1e0',  minor tick num= 4 would lead to the minor tick lines at
  '1e-4,1e-3,1e-2,1e-1'  which is useful.
  So:allow minor tick num for log axes.
  ->
  	need to adjust the check for "uniform log ticks"

- is there a way to get the current row/col index during \addplot?

- plot shell:
  	- It would be nice if the standard shell interpreter could be replaced.
	  Idea:
	  \pgfkeys{/pgfplots/plot shell/interpreter/.code 2 args={sh #1 > #2}}
	  then in the code
	  \pgfkeysvalueof{/pgfplots/plot shell/interpreter/.@cmd}{#1.sh}{#1.out}\pgfeov
	- the \pgfshell macro is quite general and could be added to pgf (as
	  suggested by you, Stefan). However, this would also need modifications in
	  tikz.code.tex to get some sort of high-level user interface.
	  I find plot shell very useful, and it could be added easily. My
	  suggestion:
	  	Either write a high level user interface for tikz or rename the command
		to \pgfplotsshell and put it into pgfplotscoordprocessing.code.tex.
	  In the meantime, I added it to pgfplotscoordprocessing.code.tex (bottom).
	- there is a potential difficulty with the '\addplot table shell' command
	  (which is a good solution!):  the semicolon in this routine will have a
	  fixed catcode. But packages like babel with french language will change it
	  to active, so french people can't use \addplot table shell. The solution
	  is technical and I am not proude of my own anyway... we'll just have to
	  think about one.
	- documentation for the 'table shell' feature is missing yet.
	- I am not sure if the replication of /tikz/prefix and /tikz/id is helpful
	  or confusing....

- > Is it possible to shade the area between two curves, using pgfplots, such as 
	> in this example: http://www.mathworks.com/matlabcentral/fileexchange/13188
	> The only shading I could find is between one curve and the x axis... Shading 
	> between curves seems to be possible, but only with stacked curves. Is is 
	> possible to disable stacking somehow, but keep the \closedcycle behavior?

- new \plotnumofactualtype thing: if you set /tikz/ plot handlers in
  \begin{axis}, they won't be set before the visualization phase. consequently,
  I can't count them!
  Idea: add a 'family' to each of them. Or wright a coord filter which checks
  for \tikz@plot@handler . Or write pgfplots styles which set them.

feature request for line styles in tikz/pgf or pgfplots respectively:
- add dash-dotted line which is quite commen in engineering field
  for example something like
	\tikzset{
		dash-dot/.style={
			dash pattern=on 4pt off 3pt on 1pt off 3pt,
		},
	}


- Konnodalplots fuer Ternary Axes
  	-> siehe notizen von Stefan Pinnow

- disable bounding box updated during \addplot -- it makes no sense and wastes
  time (unless the axis is hidden)

- output cs:
  	- implement automatic limit computation
	  	-> I prepared something like that; use it.
		I guess I'll need to convert the streamed data to the accepted format of
		the axis, at least in order to update limits.

- polar:
	- is my current datascaling approach correct? I mean, is the linear trafo
	  feasible at all?
  	- the *affine* radius datascaletrafo could be enabled, if only
	  parts of the circle are drawn at all, for example
	  	xmin=0,xmax=45,
		ymin=1e-4,ymax=1.003e-4
	  Idea: check arc size and disable the radius *affine* data scaling only if
	  the arc has more than 90 (?) degrees
	  Is that mathematically correct? And: is it useful at all?
	- handle "empty axis". It should reset to a circle, not a box.

- patch visualization: provide displacement input format

+ write better on-the-fly table generation support like
  \addplot table[
  	y=create col/linear regression{x=Basis,y=L2/ref_h,xmode=log,ymode=log},]

+ improve access to `create on use' things in \addplot table.

+ linear regression: at least when used inside of \addplot table, the initial
  values of x,y,xmode,ymode should be acquired from pgfplots!


- the following keys should process their argument with \pgfmathparse:
  	- [xyz]tick,
	- min/max
	- tickmin/max
	- meta min/max
	- domain/ y domain,
	- error bar arguments,
	- without FPU: width/height/ view
	-> check optimizations of the math parser!
	-> check if I can activate the FPU during the survey phase!

- add polar coordinates

- Idea for input stuff: implement high level user interface for coordinate
  input, similar to the pgf basic level framework. Then, add styles on top of it
  (try to be compatible with DV engine)

- Idea:
  	implement an automatic /pgf/number format setting which determines a
	suitable representation for a *set* of numbers.
	For example,
		1e-17 0.2 0.4 0.8
	should be printed as
		0 0.2 0.4 0.8
	whereas
		1e-17 2e-17 3e-17
	should be printed using the scientific range (perhaps even using some sort
	of scaling as for ticks).
	This would be useful for contour plot labels as well.
	-> a realization should check the data range (especially its exponent). 
	Thus, I want a *relative* number printing style.


- new plot structure : use the `/data point' key interface coming with pgf CVS

- new structure for math operations:
	- aim: interface for math operations which works independent of lowlevel repr
	-> FPU vs basic pgf vs LUA vs 'fp.sty' vs ....
	-> log axes can be done in pgf (faster)
	- necessary: high level \pgfmathparse *and* mid level invocation of
	  operations
	- necessary: parsenumber, tofixed, tostring
	- datascaling needs access to exponents and base 10 shifts
	- necessary: check for nan and inf
	- necessary: the max/min routines which are no longer supported by pgf (the
	  \pgfplotsmath... routines)
	- interface:
	  	- transparent exchange of math mode routines
		- fast (enough)
		- for each axis separately (optimized for log)
		- variable number of arguments
		- expansion of arguments should be possible
		- the interface is necessary for *coordinate* arithmetics, 
		  not necessarily for the pgf interaction (can keep register math)
	- realization ideas:
	  	- command suffix for each axis '@basic' versus 'float'
		- central interface to invoke math ops:
		  	\pgfplotscoordmath{x}{multiply}{{<arga>}{<argb>}}
		  Idea: use \edef on the arguments.
		- provide \pgfplotssetmathmode{x}{<suffix>}
		  -> should assert that the desired interface is complete
		- \pgfmathparse may need to be adjusted if it uses a different output
		  format than <suffix>
	TODO:
		- the log routines --> also use it for table package.
			-> BUGGY! compare examples in manual. Minor log ticks don't work at
			all, default log tick labels are simply wrong.
		- disablelogfilter case
		- error bars work with both, float and log
		- plothandlers.code.tex
		- prepare@ZERO@coords

- rewrite the read number routines. They should allow 'disabledatafilter' thing
  during \addplot.

- quiver plots:
  	+ allow to disable update of axis limits
	- provide rescaling of arrows such that they don't overlap.
	  manual rescaling is simple, auto is more difficult.
	  	auto: if I have a matrix, I could rescale such that its mesh width is
		larger than the largest vector.
		Same fo a vector of input data.
		But what if I don't know whether it's a vector or matrix?
		-> second run.
		-> after the first, it should be possible to autocomplete the mesh
		rows/cols. Try it. If that works, we have a matrix.
		-> could be done from within the scanlinelength routines: auto-detect
			- mesh/rows
			- mesh/cols
			- mesh/ordering
			- mesh/width
		-> but that fails if there is no scanline marker.
	- what with log plots? What with other axis features like symbolic trafos?
	  	-> need difference type!
	- that is: quiver plots in log coords are *multiplicative* and invoke the
	  same routines. make special handling for '0'.
	- allow feature where (u,v) are *coords*, not vectors. this could allow
	  additive log quiver plots.

- plot expression: make the sampling parameters available within survey phase

- the table package uses a lot of logs -- but it can't change the log basis.

- 3D + axis line variants: someone might prefer GRID LINES as for the boxed case
  combined with axis line=left...

- bar plots:
	- bar interval plot handler which *assumes* uniform distances. This allows to eliminate the last, superfluos grid point (because it can be generated automatically as replication x_last + h for known h)
	- in fact, I could also implement
		x_last + h_last
	and introduce a new name like 'bar interval*' or something like that


- Mails from Stefan Ruhstorfer:
		2.
	Gruppierte Säulendiagramme sind nach meinem Wissenstand nur dann möglich wenn man in der Axis-Definiton die Bedindung ybar angibt. Ich finde diese Ausrichtung sehr unflexible, da ich sehr oft über das Problem stolpere, dass ich in meinem gruppierten Säulendiagramm noch eine waagrechte Linie oder ähnlichs einzeichnen möchte um z.B. meine obere Toleranzgrenze einzuzeichnen. Bis jetzt mache ich das über den normalen \draw Modus, was auch ausgezeichnet funktioniert. Jedoch habe ich dann das Problem, dass ich keinen schönen Legendeintrag mehr bekomme. Hier häte ich 2 Vorschläge. Zum einen die Legende "freier" zu gestalten. Also so, dass man beliebig (ggf. auch ohne Plot) ein Legendenelement hinzufüen kann und vllt. noch das zugehörige Symbol festlegen kann. (Bis jetzt habe ich das Problem, das ich mit tricksen zwar meine Obere Tolerangrenze in die Legende bekomme, dann jedoch mit einem Säulenzeichnen davor).
	Der andere Vorschlag ist, dass Säulendiagramm anders zu definiern. So das ich auch noch einen Plot hinzufügen kann, der mir eine waagrechte Linie ohne zu tricksen einzeichnen lässt.


	3. Eine Gruppierung von stacked bars ist nach meinem Wissen nicht möglich. Es ist zwar schwer sich ein Anwendungsgebiet dafür vorzustellen, aber wenn sie danach mal suchen (speziell im Excelbereich) werden sie sehen, dass viele Leute so eine Funktion benutzen. 
	
	-> siehe auch folgemails mit Beispielskizzen
	-> beachte: Fall 2.) erfordert mehr arbeit als lediglich 'line legend', weil ybar ja den koordinatenindex verarbeitet!

- Mail by Hubertus Bromberger:
	+ Period in legend, without the need of using the math environment?
	  \legend{ML spcm$.$, CW spcm$.$, ML AC};
	- Maybe a more straight forward way for legend to implement something like
	  shown   in the graph. (see his mail .tex)
	  	-> plot marks only at specific points.
		thus, the legend image should contain both lines and marks, but there
		are effectively two \addplot commands.
	- As a physicist, I often have the problem to fit curves. A job gnuplot can do
	  very well. It should be possible using "raw gnuplot" but maybe you can either
	  provide an example or even implement a more straight forward way for this
	  purpose.
	- The color scheme is not really my taste.
		In CONTEXT:
							 cycle list={%
									{Col1,mark=*},
									{Col2,mark=square*},
									{Col3,mark=diamond*},
									{Col4,mark=star}, 
									{Col5,mark=pentagon*},
									{Col6,mark=square*},
									{Col7,mark=diamond*},
									{Col8,mark=triangle*} }}

		  \definecolor[Col1][r=0.24106,g=0.05490,b=0.90588]  % blau
		  \definecolor[Col2][r=1,g=0.05490,b=0.06667]        % rot
		  \definecolor[Col3][r=0.65490,g=0.73333,b=0.01176]  % grÃ¼n
		  \definecolor[Col4][r=0.08627,g=0.92549,b=0.91373]  % tyrkis
		  \definecolor[Col5][r=1,g=0.5,b=0]              % orange
		  \definecolor[Col6][r=0.54118,g=0.51765,b=0.51765]  % grau
		  \definecolor[Col7][r=0.80784,g=0.49804,b=0.06275]  % okker
		  \definecolor[Col8][r=0.74902,g=0.07451,b=0.91765]  % lila
	- Sometimes it would be good to have a bit more of a programming language, but
	  still that's not what tex is made for. The python-script looks promising, it's
	  just, that I think it doesn't work with context.

- add something like 
	\pgfplotstabletypeset[
	  cell { 1 }{ 2 }={\multirow{*}{3}{text}}
	]

- I got several feature requests for non-cartesian axes.
  Perhaps there is a way to generalize the complete procedure... as far as I
  remember, I use the pointxyz routines anyway to place tick marks and so on.
  Perhaps it can be reconfigured to do something "advanced".
  Idea: nonlinear transformation into the axis combined with special drawing
  rotuines for the axis?
  ternary diagrams
  http://staff.aist.go.jp/a.noda/programs/ternary/ternary-en.html.
  smith charts
  http://www.mathworks.com/access/helpdesk/help/toolbox/rf/f2-999699.html
  http://www.siart.de/lehre/smithdgr.pdf

- ternary diagrams todo:
  	- the \pgfplotsqpointoutsideofaxis
	  work only for position 1, nothing in-between (since it doesn't compute the
	  other axis components correctly)
	- data ranges are currently only correct if in [0,1] or if one provides the
	  [xyz]min and [xyz]max keys (and the ternary limits relative=false).
	  How should it work!?

X idea: 'mesh/ordering=auto'. Just check for 'x varies' and 'y varies'! The two
  first points inside of a scanline are enough.

- contour:
  - labels={true,false,auto}
   	-> auto should deactivate labels if there are too many contour lines.
  - labels should not be clipped...
  - add label position shifting facilities.
		-> identify by contour label *and* an optional index. There may be more
		than one line.

- contourf: I guess filled contour plots could be possible if always two
  adjacent color levels are combined into a single path which is then filled
  with the simplified even/odd rule (not the winding fill rule). With the
  underlying smoothness assumption C^0, there can't be any level between two
  adjacent ones, and there can't be self-intersections.
- it would be very interesting to allow more flexible handling of empty lines in
  input data, especially files.
- contour draft TODO:
  	+ color of text nodes
	+ make sure there is at least one label node
	- implement contourf
		- often: use 'even odd rule' to fill adjacent contours.
		- but this works only if adjacent contours are contained in each other.
		- if that's not the case, perhaps I need to add an artifical path from
		  the data limits.
		-> idea: in case I know the corner values, I'd know which contour
		plateau requires  the artifical path.
		-> other idea: I could implement some sort of even-odd rule in TeX. This
		should also yield the information.


- implement simplified constructions to access DIFFERENCE coordinates.
  For example, \draw ellipse needs x radius and y radius.


- it might be interesting to fill the area between two paths. Perhaps there is
  such a feature in pgf; or perhaps I can generalize the \closedcycle
  implementation written for stacked plots.

- provide a \numplotsperplothandler or something like that. This would improve
  things for bar plots!

- the 'table/y index' should be changed. It should be min(numcols,1) instead of 1.

- table package & axes should improve their communication.
  Namely: 
  - communicate table names.
  - communicate xmode/ymode
  - communicate log basis [xy]

- provide and document access to (sanitized?) mesh/rows and mesh/cols fields
  during the survey phase. This might allow 2d key filters

- Praktisch fände ich, wenn man folgende Dinge spezifizieren kann:

1. Welche Zeilen aus der Datei ausgelesen sollen (häufig gibt es nicht
nur 1, sondern mehrere Header-Zeilen, oder auch am Ende noch sonstige
Zeilen)

- improve support for multiple ordinates

- it would be useful if the clipping could be disabled for certain parts of the
  axis. Is that possible?
  	-> yes. 
	Idea: start clipping for every axis element separately! Shouldn't be
	much more expensive than a single marker path.
	- should work in the same way as before, there is no difference!
	- scopes should introduce no further problems
	- I could eliminate the nasty marker list

- provide a \pgfplotspathcube command as generalization from the cube marker.
  The cube command should work similar to pathrectangle or rectanglecorners.

- re-implement sampling loops. I should discard the compatibility with \foreach
  internally in order to gain accuracy! Maybe it is necessary to invoke
  different loops - one for tikz \foreach (samples at) and one "standard"
  sampling routine.


- optimization ideas:
	- replace \pgfpointscale with a 'q' version -> it invokes the expensive math parser.
	- pgfmultipartnode evaluates every anchor twice
  	- implement a cache for expensive, repeated math operations like 'view'
	  directions or common results of 1/||e_i|| .
	- search for unnecessary math parser invocations; replace with 'q' versions
	  if possible.
	- implement a hierarchical generalization of the 'applist' container (a tree
	  applist of arbitrary length)
	- eliminate the deprecated 'non-legend-option' processing.
	- remove the different (empty) paths of the axis node -- it appears they are
	  not necessary and waste only time and mem.
	- try implementing an abstract 'serialize' and 'unserialize' method - it
	  might be faster to re-process input streams instead of generating
	  preprocessed coordinate lists.
	- try to reduce invocations of pgfkeys
	- optimize the filtered pgfkeys invocations - the filter is slower than
	  necessary!
	- the plot mark code invokes a lot of math parsing routines - which is a waste
	  of time in my opinion. All expressions etc. have already been parsed.
	- the point meta transform is set up twice for
	  scatter plots.
	- my elementary data structures always use \string to support macros as data structure names. I fear this might be ineffective.
	 Perhaps its better to check if the argument is a macro (at creation time, thus only once) and call \edef#1{\string#1} to assign some sort of name to it.
	 This will invoke \string only once. Is this faster?
	- eliminate the 'veclength' invocations for single axes - they can be
	  replaced with "inverse unit length * (max-min)"
	- the key setting things can be optimized with \pgfkeysdef
	- create the /pgfplots/.unknown handler (.search also=/tikz) once and remember it.
	- the (new) tick label code might be very expensive:
	  	- check for (unnecessary) calls to \pgfpointnormalised -- the normal
		  vectors are already normalised!
		- check the cost for bounding box size control of the tick labels --
		  maybe this can be optimized away if it is not used. But this decision
		  is not easy.


- perhaps math style {grid=major, axis x line=middle, axis y line=center, tick
  align=outside}

- asymmetric error bars

- provide access to axis limits and data bounding box.
  It would be useful to get access to axis coordinates, for example in 'circle (XXX)'

- allow math expressions for axis limits etc. Idea: try float parsing routine;
  if it fails: use math parser first.

- write a public math interface which provides access to axis internals like
  limits, the 'dimen-to-coordinate' method and so on.
  -> it might be useful to use pgfmathparse for any numerical input argument as
  well.

- Store the axis limits into the axis' node as saved macros. This would allow
  	- 'use [xy] limits of=<axis name>'
	- access to axis limits from other macros.
	-> provide a command
		\pgfplotslimits{current axis}{x}{min}
	  which expands to the 'xmin' limit.
	  PROBLEM: to WHICH limit: the untransformed one? The transformed one? The
	  logarithmized one?
	  -> I can't compute exp(xmin) in log plots!
	  - Ideas:
	  		- provide both, if possible. It is NOT possible for log axes.
			- use log-limits ( possibly combined with 'logxmin=' option ?)
			- The operation requires several operations because floats need to
			  be converted. Idea: do that only for NAMED AXES.
			  -> all user-interface macros must be expandable!
			- I don't want to spent time for number format conversions
			  unnecessarily here!
			- provide \pgfplotslimits and \pgfplotstransformedlimits
			  combined with simpler key-value interfaces
			- I could also provide access to the unit lengths (they are
			  available as macro anyway)
			- ALTERNATIVE: implement access to axis limits as a math function
			  which simply defines \pgfmathresult.
			-> that is probably the most efficient way to do it. I only need to 
			  register the new function(s) to PGF MATH.
			  	-> PGF 2.00: use \csname pgfmath@parsefunction@\pgfmath@parsedfunctionname\endcsname
				-> PGF > 2.00: use \pgfmathdeclarefunction
				Is it possible to provide 'string' arguments which are not
				parsed? No.
- I could provide public macros for the data transformations (and inverse
  transformations). This would also allow relatively simple access to axis
  limits.

- cycle list should be implemented using an array structure. That's faster.


- what about a feature like 'draw[xmin=...,xmax=...] fitline between points (a)
  (b)'?

- interpolate missing coordinates for stacked plots.

- the error bar implementation is relatively inefficient. Think about something like
  '/pgfplots/error bars/prepare drawing'
  which sets common style keys for every error bar

- think about using a combination of the visualization engine of pgf CVS and my
  prepared-list-structure. Maybe I can adjust the list format for the current
  plot type? I need
  	- scatter/line plots 2D
	- meta coords
	- quiver may need extra vectors
	- matrix plots may need twodimensional structure
	- error bars could be handled more consistently
	- ...
  -> implement a visualization class which provides methods
  	- prepare()
	- visualize()
	- serialize()
	- visualizestream()
	and provide protected pgfplots methods
	- axis->preprocesscoordinate (filters, logs)
	- visualizer->prepare()
	- axis->processcoordinate()
	- visualizer->serialize()
	- axis->postprocesscoordinate()
	The markers as they are implememted now don't really fit into this framework. 
	The clipping region is not really what I want here...
	Idea: enable/disable clipping separately for each drawing command!

- the coordindex shouldn't be changed by z buffer=sort

- table package: provide abstract layer for low level storage interface.
  Idea: the interface should allow the container interface
  	- push_back()
	- get(i)
	- set(i)
	- foreach()
	- pop_front()
	- newempty()
	- clone()
	- unscope()
	- startPushBackSequence()
	- stopPushBackSequence()
  -> this could allow to use arrays for fast algorithms. At least it would make
  things easier to read.
  Problem as always: the 'unscope()' operation. 
  Currently, I have two different structures: the applists which have fast
  construction properties and the standard lists which implement the rest.
  Can I combine both? Yes, by means of the incremental construction pattern:
  \startPushBackSequence
  \push_back
  \push_back
  \push_back
  \stopPushBackSequence
  -> inside of the construction, only \push_back is allowed and the structure is
  in "locked state" (low level: applist repr)
  -> Idea: the creation is fast, afterwards, it has flexibility.

- It is certainly possible to write some sort of CELL-BASED 'mesh/surf' shader -
  a combination of 'flat corner' and cell based rectangles:
  - every coordinate denotes a CELL instead of a corner,
  - the "shader" maps the cdata into the colormap to determine the cell color
  - details?
  		- to get well-defined cells, I have to enforce either a non-parametric
		  lattice grid or do a LOT of additional operations (?).
		- alternative: define N*M cells by N+1 * M+1 points.
		- perhaps a combination of both?
		  	-> that's more or less the same as 'flat mean' up to the further
			row/column pair
  - it would be generally useful to have an "interval" or "cell" mode: 
	the idea is that every input coordinate defines an interval (1d) or a cell
	(2d). To define the last cell, one needs to add one "mesh width" somehow.
	I just don't know where:
		- the artificial cell should be processed with the normal streams -
		  including limit updates, stacking etc.
		- the artificial cell needs to know when the end-of-stream occurs.
		  For 1d plots, that may be possible. For 2D plots, this information
		  requires a valid 'cols' key.
		- I suppose it would be best to patch @stream@coord.. at least for the
		  'cell' mode.
		- Idea:
		  	- the \pgfplots@coord@stream@coord implementation realizes the
			  cell-mode: after every 'cols' coordinate, a further one is
			  replicated. This needs the "last mesh width".
			  Furthermore, it needs to accumulate a row vector, the "last row".
			  This last row is need during stream@end to replicate the further
			  row:
			- the \pgfplots@coord@stream@end implementation has to realize the
			  last step of cell mode: the replication of a further row. It also
			  has to realize the implementation of 'interval' mode (replication
			  of last coordinate).
			  My idea is to simply use an applist for this row accumulation. The
			  format should be compatible with \pgfplots@coord@stream@foreach@NORMALIZED.
			  That doesn't produce problems, even when the end command is invoked within
			  a foreach@NORMALIZED loop - because the loop has already ended.

+ external lib + makefile support: provide data files automatically as prereqs

- support \multicolumn for legends

- it appears line breaks in legend descriptions are a problem (?)
	-> bug in pgf: \\ is overwritten and won't be restored.

+ external lib + makefile support: provide data files automatically as prereqs

- pgfplotstable file open protocol: provide public listener interface

- \addplot coordinates {\macro};

- precise width calculation idea:
	- Problem: total width depends on width of axis descriptions
	- width of axis descriptions depends on position of axis descriptions
	- position of axis descriptions depends on width of axis
	- width of axis depends on width of axis descriptions
	-> non-linearly coupled system.
	- Idea: introduce a loop. 
		- details: 
			1. place axis descriptions + the axis rectangle into a box. 
			1.1 Measure box'es width, throw it away if it is too bad. Keep it and stop iteration otherwise.
			2. recompute the complete scaling.
			3. go back to step 1.) and iterate
		-> one or two iterations should be enough .
		-> it's not necessary to recompute the prepared and stored plots. Just keep them in main memory until the scaling is fixed.
	
