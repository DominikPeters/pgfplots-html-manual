%--------------------------------------------
% $Header: /cvsroot/pgfplots/pgfplots/generic/pgfplots/util/pgfplotsbinary.code.tex,v 1.3 2009/02/26 20:21:24 ludewich Exp $
%
% Package pgfplots
%
% Provides a user-friendly interface to create function plots (normal
% plots, semi-logplots and double-logplots).
% 
% It is based on Till Tantau's PGF package.
%
% Copyright 2007/2008 by Christian Feuers√§nger.
%
% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
% 
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
% 
% You should have received a copy of the GNU General Public License
% along with this program.  If not, see <http://www.gnu.org/licenses/>.
%
%--------------------------------------------

% This file provides a self-contained package which does only need
% pgfkeys.
%
% It provides a method to convert TeX numbers (integers and
% dimensions) into binary format (macros with catcode 12).
%

\edef\pgfplotsbinaryatcode{\the\catcode`\@ }
\catcode`\@=11

\begingroup
% prepare ONE-BYTE conversion [0-255] -> binary character:
\count0=0
\catcode`\^^@=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^@}\advance\count0 by1
\catcode`\^^A=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^A}\advance\count0 by1
\catcode`\^^B=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^B}\advance\count0 by1
\catcode`\^^C=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^C}\advance\count0 by1
\catcode`\^^D=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^D}\advance\count0 by1
\catcode`\^^E=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^E}\advance\count0 by1
\catcode`\^^F=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^F}\advance\count0 by1
\catcode`\^^G=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^G}\advance\count0 by1
\catcode`\^^H=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^H}\advance\count0 by1
\begingroup
\catcode`\^^I=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^I}\endgroup\advance\count0 by1
\begingroup
\catcode`\^^J=12\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^J}\endgroup\advance\count0 by1
\begingroup
\catcode`\^^K=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^K}\endgroup\advance\count0 by1
\catcode`\^^L=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^L}\advance\count0 by1
\begingroup
\catcode`\^^M=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^M}\endgroup\advance\count0 by1
\catcode`\^^N=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^N}\advance\count0 by1
\catcode`\^^O=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^O}\advance\count0 by1
\catcode`\^^P=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^P}\advance\count0 by1
\catcode`\^^Q=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^Q}\advance\count0 by1
\catcode`\^^R=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^R}\advance\count0 by1
\catcode`\^^S=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^S}\advance\count0 by1
\catcode`\^^T=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^T}\advance\count0 by1
\catcode`\^^U=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^U}\advance\count0 by1
\catcode`\^^V=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^V}\advance\count0 by1
\catcode`\^^W=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^W}\advance\count0 by1
\catcode`\^^X=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^X}\advance\count0 by1
\catcode`\^^Y=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^Y}\advance\count0 by1
\catcode`\^^Z=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^Z}\advance\count0 by1
\catcode`\^^[=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^[}\advance\count0 by1
\catcode`\^^\=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^\}\advance\count0 by1
\catcode`\^^]=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^]}\advance\count0 by1
\catcode`\^^^=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^^}\advance\count0 by1
\catcode`\^^_=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^_}\advance\count0 by1
\begingroup
\catcode`\ =12	\expandafter\xdef\csname pgfp@bin@\the\count0	\endcsname{ }\endgroup\advance\count0 by1
\catcode`\!=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{!}\advance\count0 by1
\catcode`\"=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{"}\advance\count0 by1
\catcode`\#=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{#}\advance\count0 by1
\catcode`\$=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{$}\advance\count0 by1
\catcode`\%=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{%}\advance\count0 by1
\catcode`\&=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{&}\advance\count0 by1
\catcode`\'=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{'}\advance\count0 by1
\catcode`\(=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{(}\advance\count0 by1
\catcode`\)=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{)}\advance\count0 by1
\catcode`\*=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{*}\advance\count0 by1
\catcode`\+=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{+}\advance\count0 by1
\catcode`\,=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{,}\advance\count0 by1
\catcode`\-=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{-}\advance\count0 by1
\catcode`\.=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{.}\advance\count0 by1
\catcode`\/=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{/}\advance\count0 by1
\catcode`\0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{0}\advance\count0 by1
\catcode`\1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{1}\advance\count0 by1
\catcode`\2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{2}\advance\count0 by1
\catcode`\3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{3}\advance\count0 by1
\catcode`\4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{4}\advance\count0 by1
\catcode`\5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{5}\advance\count0 by1
\catcode`\6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{6}\advance\count0 by1
\catcode`\7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{7}\advance\count0 by1
\catcode`\8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{8}\advance\count0 by1
\catcode`\9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{9}\advance\count0 by1
\catcode`\:=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{:}\advance\count0 by1
\catcode`\;=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{;}\advance\count0 by1
\catcode`\<=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{<}\advance\count0 by1
\catcode`\==12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{=}\advance\count0 by1
\catcode`\>=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{>}\advance\count0 by1
\catcode`\?=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{?}\advance\count0 by1
\catcode`\@=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{@}\advance\count0 by1
\catcode`\A=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{A}\advance\count0 by1
\catcode`\B=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{B}\advance\count0 by1
\catcode`\C=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{C}\advance\count0 by1
\catcode`\D=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{D}\advance\count0 by1
\catcode`\E=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{E}\advance\count0 by1
\catcode`\F=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{F}\advance\count0 by1
\catcode`\G=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{G}\advance\count0 by1
\catcode`\H=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{H}\advance\count0 by1
\catcode`\I=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{I}\advance\count0 by1
\catcode`\J=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{J}\advance\count0 by1
\catcode`\K=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{K}\advance\count0 by1
\catcode`\L=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{L}\advance\count0 by1
\catcode`\M=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{M}\advance\count0 by1
\catcode`\N=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{N}\advance\count0 by1
\catcode`\O=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{O}\advance\count0 by1
\catcode`\P=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{P}\advance\count0 by1
\catcode`\Q=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{Q}\advance\count0 by1
\catcode`\R=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{R}\advance\count0 by1
\catcode`\S=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{S}\advance\count0 by1
\catcode`\T=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{T}\advance\count0 by1
\catcode`\U=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{U}\advance\count0 by1
\catcode`\V=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{V}\advance\count0 by1
\catcode`\W=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{W}\advance\count0 by1
\catcode`\X=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{X}\advance\count0 by1
\catcode`\Y=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{Y}\advance\count0 by1
\catcode`\Z=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{Z}\advance\count0 by1
\catcode`\[=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{[}\advance\count0 by1
\begingroup
\catcode`\|=0
\catcode`\\=12	|expandafter|xdef|csname pgfp@bin@|the|count0 |endcsname{\}|endgroup\advance\count0 by1
\catcode`\]=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{]}\advance\count0 by1
\begingroup
\catcode`\^=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^}\endgroup\advance\count0 by1
\catcode`\_=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{_}\advance\count0 by1
\catcode`\'=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{'}\advance\count0 by1
\catcode`\a=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{a}\advance\count0 by1
\catcode`\b=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{b}\advance\count0 by1
\catcode`\c=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{c}\advance\count0 by1
\catcode`\d=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{d}\advance\count0 by1
\catcode`\e=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{e}\advance\count0 by1
\catcode`\f=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{f}\advance\count0 by1
\catcode`\g=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{g}\advance\count0 by1
\catcode`\h=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{h}\advance\count0 by1
\catcode`\i=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{i}\advance\count0 by1
\catcode`\j=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{j}\advance\count0 by1
\catcode`\k=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{k}\advance\count0 by1
\catcode`\l=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{l}\advance\count0 by1
\catcode`\m=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{m}\advance\count0 by1
\catcode`\n=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{n}\advance\count0 by1
\catcode`\o=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{o}\advance\count0 by1
\catcode`\p=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{p}\advance\count0 by1
\catcode`\q=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{q}\advance\count0 by1
\catcode`\r=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{r}\advance\count0 by1
\catcode`\s=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{s}\advance\count0 by1
\catcode`\t=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{t}\advance\count0 by1
\catcode`\u=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{u}\advance\count0 by1
\catcode`\v=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{v}\advance\count0 by1
\catcode`\w=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{w}\advance\count0 by1
\catcode`\x=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{x}\advance\count0 by1
\catcode`\y=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{y}\advance\count0 by1
\catcode`\z=11	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{z}\advance\count0 by1
\begingroup
\catcode`\q=1
\catcode`\{=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname q{}\endgroup\advance\count0 by1
\catcode`\|=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{|}\advance\count0 by1
\begingroup
\catcode`\q=2
\catcode`\}=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{}q\endgroup\advance\count0 by1
\catcode`\~=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{~}\advance\count0 by1
\catcode`\^^?=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^?}\advance\count0 by1
\catcode`\^^80=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^80}\advance\count0 by1
\catcode`\^^81=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^81}\advance\count0 by1
\catcode`\^^82=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^82}\advance\count0 by1
\catcode`\^^83=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^83}\advance\count0 by1
\catcode`\^^84=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^84}\advance\count0 by1
\catcode`\^^85=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^85}\advance\count0 by1
\catcode`\^^86=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^86}\advance\count0 by1
\catcode`\^^87=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^87}\advance\count0 by1
\catcode`\^^88=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^88}\advance\count0 by1
\catcode`\^^89=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^89}\advance\count0 by1
\catcode`\^^8a=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^8a}\advance\count0 by1
\catcode`\^^8b=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^8b}\advance\count0 by1
\catcode`\^^8c=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^8c}\advance\count0 by1
\catcode`\^^8d=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^8d}\advance\count0 by1
\catcode`\^^8e=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^8e}\advance\count0 by1
\catcode`\^^8f=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^8f}\advance\count0 by1
\catcode`\^^90=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^90}\advance\count0 by1
\catcode`\^^91=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^91}\advance\count0 by1
\catcode`\^^92=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^92}\advance\count0 by1
\catcode`\^^93=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^93}\advance\count0 by1
\catcode`\^^94=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^94}\advance\count0 by1
\catcode`\^^95=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^95}\advance\count0 by1
\catcode`\^^96=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^96}\advance\count0 by1
\catcode`\^^97=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^97}\advance\count0 by1
\catcode`\^^98=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^98}\advance\count0 by1
\catcode`\^^99=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^99}\advance\count0 by1
\catcode`\^^9a=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^9a}\advance\count0 by1
\catcode`\^^9b=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^9b}\advance\count0 by1
\catcode`\^^9c=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^9c}\advance\count0 by1
\catcode`\^^9d=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^9d}\advance\count0 by1
\catcode`\^^9e=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^9e}\advance\count0 by1
\catcode`\^^9f=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^9f}\advance\count0 by1
\catcode`\^^a0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a0}\advance\count0 by1
\catcode`\^^a1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a1}\advance\count0 by1
\catcode`\^^a2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a2}\advance\count0 by1
\catcode`\^^a3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a3}\advance\count0 by1
\catcode`\^^a4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a4}\advance\count0 by1
\catcode`\^^a5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a5}\advance\count0 by1
\catcode`\^^a6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a6}\advance\count0 by1
\catcode`\^^a7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a7}\advance\count0 by1
\catcode`\^^a8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a8}\advance\count0 by1
\catcode`\^^a9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^a9}\advance\count0 by1
\catcode`\^^aa=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^aa}\advance\count0 by1
\catcode`\^^ab=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ab}\advance\count0 by1
\catcode`\^^ac=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ac}\advance\count0 by1
\catcode`\^^ad=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ad}\advance\count0 by1
\catcode`\^^ae=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ae}\advance\count0 by1
\catcode`\^^af=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^af}\advance\count0 by1
\catcode`\^^b0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b0}\advance\count0 by1
\catcode`\^^b1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b1}\advance\count0 by1
\catcode`\^^b2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b2}\advance\count0 by1
\catcode`\^^b3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b3}\advance\count0 by1
\catcode`\^^b4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b4}\advance\count0 by1
\catcode`\^^b5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b5}\advance\count0 by1
\catcode`\^^b6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b6}\advance\count0 by1
\catcode`\^^b7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b7}\advance\count0 by1
\catcode`\^^b8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b8}\advance\count0 by1
\catcode`\^^b9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^b9}\advance\count0 by1
\catcode`\^^ba=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ba}\advance\count0 by1
\catcode`\^^bb=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^bb}\advance\count0 by1
\catcode`\^^bc=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^bc}\advance\count0 by1
\catcode`\^^bd=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^bd}\advance\count0 by1
\catcode`\^^be=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^be}\advance\count0 by1
\catcode`\^^bf=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^bf}\advance\count0 by1
\catcode`\^^c0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c0}\advance\count0 by1
\catcode`\^^c1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c1}\advance\count0 by1
\catcode`\^^c2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c2}\advance\count0 by1
\catcode`\^^c3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c3}\advance\count0 by1
\catcode`\^^c4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c4}\advance\count0 by1
\catcode`\^^c5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c5}\advance\count0 by1
\catcode`\^^c6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c6}\advance\count0 by1
\catcode`\^^c7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c7}\advance\count0 by1
\catcode`\^^c8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c8}\advance\count0 by1
\catcode`\^^c9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^c9}\advance\count0 by1
\catcode`\^^ca=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ca}\advance\count0 by1
\catcode`\^^cb=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^cb}\advance\count0 by1
\catcode`\^^cc=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^cc}\advance\count0 by1
\catcode`\^^cd=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^cd}\advance\count0 by1
\catcode`\^^ce=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ce}\advance\count0 by1
\catcode`\^^cf=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^cf}\advance\count0 by1
\catcode`\^^d0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d0}\advance\count0 by1
\catcode`\^^d1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d1}\advance\count0 by1
\catcode`\^^d2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d2}\advance\count0 by1
\catcode`\^^d3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d3}\advance\count0 by1
\catcode`\^^d4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d4}\advance\count0 by1
\catcode`\^^d5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d5}\advance\count0 by1
\catcode`\^^d6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d6}\advance\count0 by1
\catcode`\^^d7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d7}\advance\count0 by1
\catcode`\^^d8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d8}\advance\count0 by1
\catcode`\^^d9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^d9}\advance\count0 by1
\catcode`\^^da=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^da}\advance\count0 by1
\catcode`\^^db=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^db}\advance\count0 by1
\catcode`\^^dc=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^dc}\advance\count0 by1
\catcode`\^^dd=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^dd}\advance\count0 by1
\catcode`\^^de=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^de}\advance\count0 by1
\catcode`\^^df=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^df}\advance\count0 by1
\catcode`\^^e0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e0}\advance\count0 by1
\catcode`\^^e1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e1}\advance\count0 by1
\catcode`\^^e2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e2}\advance\count0 by1
\catcode`\^^e3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e3}\advance\count0 by1
\catcode`\^^e4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e4}\advance\count0 by1
\catcode`\^^e5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e5}\advance\count0 by1
\catcode`\^^e6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e6}\advance\count0 by1
\catcode`\^^e7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e7}\advance\count0 by1
\catcode`\^^e8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e8}\advance\count0 by1
\catcode`\^^e9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^e9}\advance\count0 by1
\catcode`\^^ea=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ea}\advance\count0 by1
\catcode`\^^eb=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^eb}\advance\count0 by1
\catcode`\^^ec=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ec}\advance\count0 by1
\catcode`\^^ed=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ed}\advance\count0 by1
\catcode`\^^ee=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ee}\advance\count0 by1
\catcode`\^^ef=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ef}\advance\count0 by1
\catcode`\^^f0=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f0}\advance\count0 by1
\catcode`\^^f1=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f1}\advance\count0 by1
\catcode`\^^f2=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f2}\advance\count0 by1
\catcode`\^^f3=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f3}\advance\count0 by1
\catcode`\^^f4=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f4}\advance\count0 by1
\catcode`\^^f5=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f5}\advance\count0 by1
\catcode`\^^f6=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f6}\advance\count0 by1
\catcode`\^^f7=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f7}\advance\count0 by1
\catcode`\^^f8=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f8}\advance\count0 by1
\catcode`\^^f9=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^f9}\advance\count0 by1
\catcode`\^^fa=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^fa}\advance\count0 by1
\catcode`\^^fb=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^fb}\advance\count0 by1
\catcode`\^^fc=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^fc}\advance\count0 by1
\catcode`\^^fd=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^fd}\advance\count0 by1
\catcode`\^^fe=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^fe}\advance\count0 by1
\catcode`\^^ff=12	\expandafter\xdef\csname pgfp@bin@\the\count0 \endcsname{^^ff}\advance\count0 by1
\ifnum\count0=256
\else
	\pgfplots@error{Internal logic Error: initialisation failed. I have only \the\count0\space bytes initialised.}
\fi
\endgroup

\def\pgfplotsbinary@apphighorderbytes@BIGENDIAN#1{\xdef\pgfplotsbinaryresult{#1\pgfplotsbinaryresult}}%
\def\pgfplotsbinary@apphighorderbytes@LITTLEENDIAN#1{\xdef\pgfplotsbinaryresult{\pgfplotsbinaryresult#1}}%


\pgfqkeys{/pgfplots/bin}{%
	bytes/.code={%
		\def\pgfplotsbinary@bytes{#1}%
		\ifcase\pgfplotsbinary@bytes\relax
			\pgfplots@error{bytes=0 is unsupported, sorry.}%
		\or
			\def\pgfplotsbinary@add@signed@largest@absolute{\advance\c@pgfplotsbin@input by 128 }%
		\or
			\def\pgfplotsbinary@add@signed@largest@absolute{\advance\c@pgfplotsbin@input by 32768 }%
		\or
			\def\pgfplotsbinary@add@signed@largest@absolute{\advance\c@pgfplotsbin@input by 8388608 }%
		\or
			\def\pgfplotsbinary@add@signed@largest@absolute{%
				\advance\c@pgfplotsbin@input by 2147483647 % this is the absolute largest int that TeX can handle.
				\advance\c@pgfplotsbin@input by 1 % but need need one more...
			}%
		\else
			\def\pgfplotsbinary@add@signed@largest@absolute{%
				\pgfplots@error{Sorry, but I can't perform \string\pgfplotsbinaryencodesignedmaplinearly\space for bytes=\pgfplotsbinary@bytes\space yet... bytes=4 is the maximum.}%
			}%
		\fi
		\ifnum\pgfplotsbinary@bytes>8
			\pgfplots@error{Sorry, only up to bytes=8 is supported. bytes=\pgfplotsbinary@bytes\space is too large.}%
		\fi
	},
	bytes=4,
	% ordering not yet implemented; uses always BIG ENDIAN.
	ordering/.is choice,%
	ordering/big endian/.code={%
		\def\pgfplotsbinary@byteorder{0}%
		\let\pgfplotsbinary@apphighorderbytes=\pgfplotsbinary@apphighorderbytes@BIGENDIAN
	},%
	ordering/net/.style={/pgfplots/bin/ordering/big endian},%
	ordering/little endian/.code={%
		\def\pgfplotsbinary@byteorder{1}%
		\let\pgfplotsbinary@apphighorderbytes=\pgfplotsbinary@apphighorderbytes@LITTLEENDIAN
	},
	ordering/big endian,%
	%
	% Irreversibly change to VERBATIM output for debugging:
	debug mode/.code={%
		\let\pgfplotsbinary@apphighorderbytes@ORIG=\pgfplotsbinary@apphighorderbytes
		\def\pgfplotsbinary@ZERO{[0]}%
		\let\pgfplotsbinary@ZERO@HIGHEST=\pgfplotsbinary@ZERO
		\def\pgfplotsbinary@ZERO@LINEARMAP{[128]}%
		\def\pgfplotsbinary@apphighorderbytes##1{%
			\pgfutil@ifnextchar\csname{%
				\pgfplotsbinary@apphighorderbytes@DEBUG@csname
			}{%
				\pgfplotsbinary@apphighorderbytes@DEBUG@normal
			}%
			##1\relax
		}%
	},
}

\expandafter\let\expandafter\pgfplotsbinary@ZERO\csname pgfp@bin@0\endcsname
\expandafter\let\expandafter\pgfplotsbinary@ZERO@LINEARMAP\csname pgfp@bin@128\endcsname
\let\pgfplotsbinary@ZERO@HIGHEST=\pgfplotsbinary@ZERO
\let\pgfplotsbinary@hook=\relax

\def\pgfplotsbinary@hook@signed@linearmap{%
	\ifnum\c@pgfplotsbin@byteno=0
		\advance\c@pgfplotsbin@input by128
	\fi
}%

\def\pgfplotsbinary@apphighorderbytes@DEBUG@csname \csname pgfp@bin@#1\endcsname\relax{%
	\pgfplotsbinary@apphighorderbytes@ORIG{[#1]}%
}%
\def\pgfplotsbinary@apphighorderbytes@DEBUG@normal#1\relax{%
	\pgfplotsbinary@apphighorderbytes@ORIG{#1}%
}%

%\pgfkeys{/pgfplots/bin/debug mode}


\countdef\c@pgfplotsbin@input=0
\countdef\c@pgfplotsbin@tmpa=1
\countdef\c@pgfplotsbin@tmpb=2
\countdef\c@pgfplotsbin@byteno=3
\def\pgfplotsbinaryempty{}

%--------------------------------------------------
% input:    unsigned int x, b, n;
% output:   unsigned int y[n];
% for (i=0; i<n; i++) y[i] = 0;
% i=0;
% while (x > 0)
% { y[i] = x % b; /* entspricht x mod b   */
%  x = x / b;    /* ganzzahlige Division */
%  i++;
%  }
%-------------------------------------------------- 
% with x = #1
% b = 256
% will store stuff into \pgfplotsbinaryresult in binary format
%
% PRECONDITION:
% - \pgfplotsbinaryresult= empty!
% - \c@pgfplotsbin@byteno=\pgfplotsbinary@bytes
\def\pgfplotsbinaryencode@badic@unsigned@{%
	\ifnum\c@pgfplotsbin@input>0
		\c@pgfplotsbin@tmpa=\c@pgfplotsbin@input
		\divide\c@pgfplotsbin@tmpa by256
		\c@pgfplotsbin@tmpb=\c@pgfplotsbin@tmpa\relax
		\multiply\c@pgfplotsbin@tmpa by256
		\advance\c@pgfplotsbin@input by -\c@pgfplotsbin@tmpa\relax
		\advance\c@pgfplotsbin@byteno by-1
		\pgfplotsbinary@hook% hooks for modifications.
		\pgfplotsbinary@apphighorderbytes{\csname pgfp@bin@\the\c@pgfplotsbin@input\endcsname}%
		\c@pgfplotsbin@input=\c@pgfplotsbin@tmpb
%\message{RESULT SO FAR: \pgfplotsbinaryresult}%
		\expandafter\pgfplotsbinaryencode@badic@unsigned@
	\else
		% pad with zeros:
		\ifcase\c@pgfplotsbin@byteno
			% ok.
		\or
			% one byte missing.
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			% two bytes missing.
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\or
			\pgfplotsbinary@apphighorderbytes{\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO\pgfplotsbinary@ZERO@HIGHEST}%
		\fi
%\message{RESULT SO FAR: \pgfplotsbinaryresult}%
	\fi
}%

% Defines \pgfplotsbinaryresult to be the binary representation of an
% unsigned integer.
%
% The representation will use unsigned dual number representation.
%
% The assignment to \pgfplotsbinaryresult will be globally.
% #1: an unsigned integer .
%
% FIXME : fix  > 2^30
\def\pgfplotsbinaryencodeunsigned#1{%
	\begingroup
	\global\let\pgfplotsbinaryresult=\pgfplotsbinaryempty
	\c@pgfplotsbin@byteno=\pgfplotsbinary@bytes\relax
	\c@pgfplotsbin@input=#1 %
	\pgfplotsbinaryencode@badic@unsigned@%
	\endgroup
}%

% An implementation for signed integers which maps the signed integer linearly into 
% the unsigned data range before it proceeds.
%
% The idea is thus, to first introduce a linear mapping
%
% phi : [- smallest_possible, +largest_possible ] -> [0, 256^bytes-1 ]
%
% The realization uses maps [ - smallest_possible, 0 ] -> [0,...]
% and the positive numbers follow.
%
% Such an implementation is useful for pdf shadings - they work with
% linear maps anyway.
\def\pgfplotsbinaryencodesignedmaplinearly#1{%
	\begingroup
	\global\let\pgfplotsbinaryresult=\pgfplotsbinaryempty
	\c@pgfplotsbin@byteno=\pgfplotsbinary@bytes\relax
	\c@pgfplotsbin@input=#1 %
	%
	% The implementation works as follows:
	% 
	% we map NEGATIVE numbers first into the range [0,...MAXINT]
	% and POSITIVE numbers afterwards.
	%
	% Steps:
	% 1. if #1 < 0: add the smallest allowed negative number.
	% 2. if #1 >=0 : make sure we start at half the output range.
	% This doesn't need TeX register arithmetics on the whole range.
	%
	\ifnum\c@pgfplotsbin@input<0
		% map to positive range:
		\pgfplotsbinary@add@signed@largest@absolute
	\else
		% change zero padding such that positive numbers
		% start at the upper half of the output range:
		\let\pgfplotsbinary@ZERO@HIGHEST=\pgfplotsbinary@ZERO@LINEARMAP
		\let\pgfplotsbinary@hook=\pgfplotsbinary@hook@signed@linearmap
	\fi
	\pgfplotsbinaryencode@badic@unsigned@%
	\endgroup
}%

\catcode`\@=\pgfplotsbinaryatcode
\endinput
