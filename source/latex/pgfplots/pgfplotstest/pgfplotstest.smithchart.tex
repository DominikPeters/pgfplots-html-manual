\testfile{pgfplotstest.smithchart.tex}
\testsection{Smith Charts}

\testsubsection{First steps: providing all limits and w/h sizes}
\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=5,
		ymin=-5,ymax=5,
	extra x ticks=0.5,
		%xtick={0,30,...,360},
	]
	\addplot+[domain=-5:5] (0.5,\x);
	\addlegendentry{$x=0.5$}
	\end{smithchartaxis}
\end{tikzpicture}
%\endinput %FIXME

\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=50,
		ymin=-50,ymax=50,
		xtick={
			0,0.1,0.2,...,1,1.5,2,3,4,5,10,20,50%
		},
		ytick={%
			0,%
			0.1,0.2,...,1,1.5,2,3,4,5,10,20,50,%
			-0.1,-0.2,...,-1,-1.5,-2,-3,-4,-5,-10,-20,-50%
		},
		extra x ticks={1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9},
		extra y ticks={%
			1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9,%
			-1.1,-1.2,-1.3,-1.4,-1.6,-1.7,-1.8,-1.9,-2.2,-2.4,-2.6,-2.8,-3.2,-3.4,-3.6,-3.8,-4.5,-6,-7,-8,-9%
		},
		extra tick style={xticklabel=\relax,yticklabel=\relax},
		%xtick={0,30,...,360},
	]
	\addplot+[domain=-5:5] (0.5,\x);
	\addlegendentry{$x=0.5$}
	\end{smithchartaxis}
\end{tikzpicture}

\testsubsection{With xgrid stop each nth at y}
\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=5,
		ymin=-5,ymax=5,
		xgrid stop each nth at y={0.5,2},
		%xtick={0,30,...,360},
	]
	\end{smithchartaxis}
\end{tikzpicture}
%\endinput %FIXME

\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=50,
		ymin=-50,ymax=50,
		xtick={
			0,0.1,0.2,...,1,1.5,2,3,4,5,10,20,50%
		},
		ytick={%
			0,%
			0.1,0.2,...,1,1.5,2,3,4,5,10,20,50,%
			-0.1,-0.2,...,-1,-1.5,-2,-3,-4,-5,-10,-20,-50%
		},
		extra x ticks={1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9},
		extra y ticks={%
			1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9,%
			-1.1,-1.2,-1.3,-1.4,-1.6,-1.7,-1.8,-1.9,-2.2,-2.4,-2.6,-2.8,-3.2,-3.4,-3.6,-3.8,-4.5,-6,-7,-8,-9%
		},
		extra tick style={xticklabel=\relax,yticklabel=\relax},
		xgrid stop each nth at y={1,2,4,5,10,20},
		%xtick={0,30,...,360},
	]
	\end{smithchartaxis}
\end{tikzpicture}

\testsubsection{With ygrid stop each nth at x}
\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=5,
		ymin=-5,ymax=5,
		ygrid stop each nth at x={1,2},
	extra x ticks=0.5,
		%xtick={0,30,...,360},
	]
	\addplot+[domain=-5:5] (0.5,\x);
	\addlegendentry{$x=0.5$}
	\end{smithchartaxis}
\end{tikzpicture}
%\endinput %FIXME

\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=50,
		ymin=-50,ymax=50,
		xtick={
			0,0.1,0.2,...,1,1.5,2,3,4,5,10,20,50%
		},
		ytick={%
			0,%
			0.1,0.2,...,1,1.5,2,3,4,5,10,20,50,%
			-0.1,-0.2,...,-1,-1.5,-2,-3,-4,-5,-10,-20,-50%
		},
		extra x ticks={1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9},
		extra y ticks={%
			1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9,%
			-1.1,-1.2,-1.3,-1.4,-1.6,-1.7,-1.8,-1.9,-2.2,-2.4,-2.6,-2.8,-3.2,-3.4,-3.6,-3.8,-4.5,-6,-7,-8,-9%
		},
		extra tick style={xticklabel=\relax,yticklabel=\relax},
		ygrid stop each nth at x={1,2,3,5,10:3,20:3},
		%xtick={0,30,...,360},
	]
	\addplot+[domain=-5:5] (0.5,\x);
	\addlegendentry{$x=0.5$}
	\end{smithchartaxis}
\end{tikzpicture}

\testsubsection{With ygrid stop each nth at x and xgrid stop each nth at y}
\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=5,
		ymin=-5,ymax=5,
		ygrid stop each nth at x={1,2},
		xgrid stop each nth at y={2},
	extra x ticks=0.5,
		%xtick={0,30,...,360},
	]
	\addplot+[domain=-5:5] (0.5,\x);
	\addlegendentry{$x=0.5$}
	\end{smithchartaxis}
\end{tikzpicture}
%\endinput %FIXME

\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=50,
		ymin=-50,ymax=50,
		xtick={
			0,0.1,0.2,...,1,1.5,2,3,4,5,10,20,50%
		},
		ytick={%
			0,%
			0.1,0.2,...,1,1.5,2,3,4,5,10,20,50,%
			-0.1,-0.2,...,-1,-1.5,-2,-3,-4,-5,-10,-20,-50%
		},
		extra x ticks={1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9},
		extra y ticks={%
			1.1,1.2,1.3,1.4,1.6,1.7,1.8,1.9,2.2,2.4,2.6,2.8,3.2,3.4,3.6,3.8,4.5,6,7,8,9,%
			-1.1,-1.2,-1.3,-1.4,-1.6,-1.7,-1.8,-1.9,-2.2,-2.4,-2.6,-2.8,-3.2,-3.4,-3.6,-3.8,-4.5,-6,-7,-8,-9%
		},
		extra tick style={xticklabel=\relax,yticklabel=\relax},
		xgrid stop each nth at y={1,2,4,5,10,20},
		ygrid stop each nth at x={1,2,3,5,10:3,20:3},
		%xtick={0,30,...,360},
	]
	\addplot+[domain=-5:5] (0.5,\x);
	\addlegendentry{$x=0.5$}
	\end{smithchartaxis}
\end{tikzpicture}

\testsubsection{With data in smithchart cs}
\testsubsubsection{autolimits}
\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
	]
	\addplot+[mark=none,is smithchart cs] file {plotdata/smithchart_data.dat};
	\addlegendentry{Data}
	\end{smithchartaxis}
\end{tikzpicture}

\testsubsubsection{manual limits + ticks}
\begin{tikzpicture}
%\tracingmacros=2 \tracingcommands=2
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=5,
		ymin=-50,ymax=50,
		xtick={0.2,0.5,1,2,5},
		ytick={
			 0.2, 0.5, 1, 2, 5,
			-0.2,-0.5,-1,-2,-5},
	]
	\addplot+[mark=none,is smithchart cs] file {plotdata/smithchart_data.dat};
	\addlegendentry{Data}
	\end{smithchartaxis}
\end{tikzpicture}

\testsubsubsection{manual limits + ticks + ygrid stop each nth at x}
\begin{tikzpicture}
	\begin{smithchartaxis}[
		width=10cm,
		height=10cm,
		xmin=0,xmax=5,
		ymin=-50,ymax=50,
		xtick={0.2,0.5,1,2,5},
		ytick={
			 0.2, 0.5, 1, 2, 5,
			-0.2,-0.5,-1,-2,-5},
		ygrid stop each nth at x={1,2,5},
	]
	\addplot+[mark=none,is smithchart cs] file {plotdata/smithchart_data.dat};
	\addlegendentry{Data}
	\end{smithchartaxis}
\end{tikzpicture}
